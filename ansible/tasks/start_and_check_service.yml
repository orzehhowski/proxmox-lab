- name: Start {{ service_name }} service
  systemd:
    name: "{{ service_name }}"
    state: started

- name: Wait 3 seconds for service to settle
  pause:
    seconds: 3

- name: Verify {{ service_name }} is active
  command: systemctl is-active {{ service_name }}
  register: process_status
  changed_when: false
  failed_when: process_status.stdout.strip() != "active"
